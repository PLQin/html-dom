(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{J3ev:function(e,n,t){"use strict";t.r(n);var a=t("q1tI"),i=t.n(a),r=t("TJpk"),o=t("mcK/"),m=t("Ov9x"),s=t("2G++");n.default=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(r.Helmet,null,i.a.createElement("meta",{name:"keywords",content:"\n            addEventListener, appendChild, clone node, iframe srcdoc, load event,\n            print image, removeChild, set CSS style, setAttribute, window print\n        "})),i.a.createElement(m.a,{content:"\nYou can print a web page by clicking the _Print_ menu of browser or pressing the shortcut `Ctrl+P` (or `command+P` on macOS).\n\nCalling the `window.print()` function provides the same result which prints the entire page.\n\nIn order to print an image, we can insert the image element to a fake `iframe` element, and call the `print()` function\non the iframe's window.\n\nAssume that the page has an image element and a print button as below:\n\n~~~ html\n<img id=\"image\" src=\"/path/to/image.jpg\" />\n<button id=\"print\">Print</button>\n~~~\n\nThe printing image could be handled inside the button's `click` event:\n\n~~~ javascript\n// Query the element\nconst printBtn = document.getElementById('print');\n\nprintBtn.addEventListener('click', function() {\n    ...\n});\n~~~\n\n## Create a fake iframe\n\n~~~ javascript\n// Create a fake iframe\nconst iframe = document.createElement('iframe');\n\n// Make it hidden\niframe.style.height = 0;\niframe.style.visibility = 'hidden';\niframe.style.width = 0;\n\n// Set the iframe's source\niframe.setAttribute('srcdoc', '<html><body></body></html>');\n\ndocument.body.appendChild(iframe);\n~~~\n\n## Insert the image when the iframe is ready\n\nDespite the fact that the iframe source is a simple HTML, not a remote path as defined by the `src` attribute,\nwe have to wait for the iframe to be loaded completely:\n\n~~~ javascript\niframe.addEventListener('load', function() {\n    // Clone the image\n    const image = document.getElementById('image').cloneNode();\n    image.style.maxWidth = '100%';\n\n    // Append the image to the iframe's body\n    const body = iframe.contentDocument.body;\n    body.style.textAlign = 'center';\n    body.appendChild(image);\n});\n~~~\n\nInvoke the `print()` function on the iframe's window as soon as the image is loaded:\n\n~~~ javascript\niframe.addEventListener('load', function() {\n    ...\n    image.addEventListener('load', function() {\n        // Invoke the print when the image is ready\n        iframe.contentWindow.print();\n    });\n});\n~~~\n\n## Remove the iframe\n\nThe dynamic iframe will be [removed](/remove-an-element) when user starts printing the image or closes the print window:\n\n~~~ javascript\niframe.contentWindow.addEventListener('afterprint', function() {\n    iframe.parentNode.removeChild(iframe);\n});\n~~~\n\nPressing the _Print_ button below to see it in action!\n\n_Photo by [Rod Long](https://unsplash.com/@rodlong) on [Unsplash](https://unsplash.com/photos/J-ygvQbilXU)_\n"}),i.a.createElement(o.a,{src:"/demo/print-an-image/index.html"}),i.a.createElement(s.a,{slugs:["append-to-an-element","attach-or-detach-an-event-handler","clone-an-element","create-an-element","get-set-and-remove-attributes","remove-an-element","set-css-style-for-an-element"]}))}}}]);
//# sourceMappingURL=posts-print-an-image.905263a1bf5a6d9d3585.js.map